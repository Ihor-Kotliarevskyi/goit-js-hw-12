{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst URL = 'https://pixabay.com/api/';\nconst KEY = '52764873-a8569ac81d8d8c122be292efa';\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get(`${URL}`, {\n      params: {\n        key: KEY,\n        q: query,\n        per_page: 30,\n        type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => {\n      return response.data.hits;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { loader } from '../main';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.85,\n  showCounter: true,\n});\n\nexport function createGallery(images, galleryElements) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n                <div class=\"image-box\">\n                  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                      <img\n                        class=\"gallery-image\"\n                        src=\"${webformatURL}\"\n                        alt=\"${tags}\"\n                      />\n                  </a>\n                  </div>\n                  <ul class=\"image-stats\">\n                    <li class=\"image-stat-item\">\n                      <h4>Likes</h4>\n                      <p>${likes}</p>\n                    </li>\n                    <li class=\"image-stat-item\">\n                      <h4>Views</h4>\n                      <p>${views}</p>\n                    </li>\n                    <li class=\"image-stat-item\">\n                      <h4>Comments</h4>\n                      <p>${comments}</p>\n                    </li>\n                    <li class=\"image-stat-item\">\n                      <h4>Downloads</h4>\n                      <p>${downloads}</p>\n                    </li>\n                  </ul>\n                </li>`;\n      }\n    )\n    .join('');\n\n  galleryElements.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery(elem) {\n  elem.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay-api';\n\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\n\nexport const loader = document.querySelector('.loader');\n\nconst searchInput = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nsearchInput.addEventListener('submit', submitSearch);\n\niziToast.settings({\n  timeout: 2500,\n  progressBar: false,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipInX',\n});\n\nfunction submitSearch(event) {\n  event.preventDefault();\n  showLoader();\n\n  const searchText = event.target.elements['search-text'].value.trim();\n\n  if (!searchText) {\n    iziToast.warning({\n      title: 'Attention!',\n      message: 'Please enter text to search!',\n      position: 'topRight',\n    });\n\n    hideLoader();\n  } else {\n    clearGallery(gallery);\n    getImagesByQuery(searchText)\n      .then(data => {\n        if (!data.length) {\n          iziToast.info({\n            title: 'Info',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            color: '#f8e730ff',\n            position: 'center',\n          });\n        } else {\n          clearGallery(gallery);\n          createGallery(data, gallery);\n        }\n      })\n      .catch(error => {\n        iziToast.error({\n          title: `Ooops!`,\n          message: `${error.message}`,\n          position: 'bottomRight',\n        });\n      })\n      .finally(() => {\n        searchInput.reset();\n        hideLoader();\n      });\n  }\n}\n"],"names":["URL","KEY","getImagesByQuery","query","axios","response","lightbox","SimpleLightbox","createGallery","images","galleryElements","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","elem","showLoader","loader","hideLoader","searchInput","gallery","submitSearch","iziToast","event","searchText","data","error"],"mappings":"owBAEA,MAAMA,EAAM,2BACNC,EAAM,qCAEL,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAI,GAAGJ,CAAG,GAAI,CACb,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,SAAU,GACV,KAAM,QACN,YAAa,aACb,WAAY,EACpB,CACA,CAAK,EACA,KAAKE,GACGA,EAAS,KAAK,IACtB,CACL,CChBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,YAAa,EACf,CAAC,EAEM,SAASC,EAAcC,EAAQC,EAAiB,CACrD,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,kDAEmCL,CAAa;AAAA;AAAA;AAAA,+BAGhCD,CAAY;AAAA,+BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAORC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2BAIRC,CAAS;AAAA;AAAA;AAAA,sBAKpC,EACK,KAAK,EAAE,EAEVR,EAAgB,mBAAmB,YAAaC,CAAM,EACtDL,EAAS,QAAO,CAClB,CAEO,SAASa,EAAaC,EAAM,CACjCA,EAAK,UAAY,EACnB,CAEO,SAASC,GAAa,CAC3BC,EAAO,MAAM,QAAU,OACzB,CAEO,SAASC,GAAa,CAC3BD,EAAO,MAAM,QAAU,MACzB,CC3DO,MAAMA,EAAS,SAAS,cAAc,SAAS,EAEhDE,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAY,iBAAiB,SAAUE,CAAY,EAEnDC,EAAS,SAAS,CAChB,QAAS,KACT,YAAa,GACb,aAAc,UACd,cAAe,SACjB,CAAC,EAED,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EACpBP,EAAU,EAEV,MAAMQ,EAAaD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,KAAI,EAE7DC,GASHV,EAAaM,CAAO,EACpBvB,EAAiB2B,CAAU,EACxB,KAAKC,GAAQ,CACPA,EAAK,QASRX,EAAaM,CAAO,EACpBjB,EAAcsB,EAAML,CAAO,GAT3BE,EAAS,KAAK,CACZ,MAAO,OACP,QACE,2EACF,MAAO,YACP,SAAU,QACtB,CAAW,CAKL,CAAC,EACA,MAAMI,GAAS,CACdJ,EAAS,MAAM,CACb,MAAO,SACP,QAAS,GAAGI,EAAM,OAAO,GACzB,SAAU,aACpB,CAAS,CACH,CAAC,EACA,QAAQ,IAAM,CACbP,EAAY,MAAK,EACjBD,EAAU,CACZ,CAAC,IAlCHI,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,+BACT,SAAU,UAChB,CAAK,EAEDJ,EAAU,EA8Bd"}